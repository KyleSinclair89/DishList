<!DOCTYPE html>
<html>
<head>
    <title>Recipe Details | Dish List</title>
    <link rel="stylesheet" type="text/css" href="DishListStyle.css">

    <style>
        #recipeDetailsBox {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        #recipeImage {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
        }
        
        h2 {
            font-family: 'Lucida Sans', 'Lucida Sans Regular';
            color: #a7763b;
            font-stretch: extra-expanded;
            padding-top: 10px;
        }
        p{
            padding-block: 10px;
            color: #4c482e;
            font-family: Arial, Helvetica, sans-serif;
            font-size: medium;
            font-weight: bold;
        }
        
        hr{
            color: #f38c10;
            height: 10px;
            border-style: dotted;
            align-content: center;
            margin-bottom: 20px;
            border-width: 5px;

        }
    </style>
</head>
<body>
    <header>
        <img src="DishListLogo.png" alt="Dish List Logo" class="logo" width="200">
        <p>Explore a wide range of delicious recipes.</p>
    </header>

    <nav>
        <ul class="menu-item">
            <li class="Recipes">
                <a href="DishListRecipes.html">Recipes</a>
            </li>
            <li class="About Us">
                <a href="DishListAboutUs.html">About Us</a>
            </li>
            <li class="Login">
                <a href="DishListLogin.html">Login</a>
            </li>
            <li class="Register">
                <a href="DishListRegister.html">Register</a>
            </li>
        </ul>
    </nav>
    
    
        <div id="recipe-details" style="text-align: center;"></div>
    
        <script>
            // JavaScript code to fetch and display recipe details
            const apiKey = "76d521cb8b1a470092db329c1ac612e9";
    
            // Function to get the recipe ID from the URL parameters
            function getRecipeIdFromUrl() {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get('recipeId');
            }
    
            // Function to make the API fetch recipe details
            async function fetchRecipeDetails(recipeId) {
                try {
                    const response = await fetch(`https://api.spoonacular.com/recipes/${recipeId}/information?apiKey=${apiKey}`);
                    const recipeData = await response.json();
                    displayRecipeDetails(recipeData);
                } catch (error) {
                    console.error("Error fetching recipe details:", error);
                }
            }
            
            // Function to display recipe details, including ingredients
            function displayRecipeDetails(recipeData) {
                const recipeDetails = document.getElementById("recipe-details");
                // Adjust this part based on how you want to display the details
                recipeDetails.innerHTML = `
                    <h1>${recipeData.title}</h1>
                    <img src="${recipeData.image}" alt="${recipeData.title}" style="max-width: 100%;">
                   <hr>
                    <h2> Summary </h2>
                    <p> ${recipeData.summary}</p>
                    <hr>
                    <h2>Ingredients</h2>
                    <ul>
                      <p>  ${recipeData.extendedIngredients.map((ingredient) => `<li>${ingredient.original}</li>`).join("")} </p>
                    </ul>
                    <hr>
                    <h2>Instructions</h2>
                        <p> ${recipeData.instructions} </p>
                    <hr>
                    <h2>Prep Time</h2>
                        <p> ${recipeData.readyInMinutes} minutes. </p>
                    <hr>
                    <h2>Servings</h2
                        <p> ${recipeData.servings} </p>
                    <hr>
                    <h2>Rating</h2>
                        <p> ${recipeData.spoonacularScore}</p>
                `;
                }
                  // Load recipe details on page load
            window.onload = function () {
                const recipeId = getRecipeIdFromUrl();
                if (recipeId) {
                    fetchRecipeDetails(recipeId);
                }
            };
        </script>
    </body>
    </html>
